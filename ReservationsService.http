### @baseUrl = https://apiqa.solmar.com
@baseUrl = http://localhost:30577
@admin_jwt = Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRpdXJ2YW4xQGdtYWlsLmNvbSIsImdpdmVuX25hbWUiOiJOdWV2byBVc3VhcmlvIiwic3ViIjoiY2Q2YjNhNjQtYTk1OC00NTMxLTkwMDgtYzMzMDI5N2M1OTZlIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJQQkRRQ09CVEdRNk40T05OSktJUjJVSEpCSE1SQzRPRiIsInJvbGUiOiJDbGllbnRlIiwibmJmIjoxNzY3NjM5NzU1LCJleHAiOjE3NjgyNDQ1NTUsImlhdCI6MTc2NzYzOTc1NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzAwMSIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcwMDEifQ.xLS_xUqUWNGIIGEQvBH8SsiFKxoKANHllCsm7F8w2aQ9JWJUgZuDJcZrvlHqplswIyUjb9jDhON5NNOByxxOUw
###
# =====================================================
# Reservations (/reservations)
# =====================================================

### Get Reservation By Id
GET {{baseUrl}}/reservations/reservation/10
Authorization: {{admin_jwt}}
Accept: application/json

### Change Reservation Status
POST {{baseUrl}}/reservations/change-status
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "reservationId": 10,
  "reservationNumber": "RSV-RZMCUQ",
  "reservationStatus": "Confirmed"
}

### Get Hotel Reservation By ReservationNumber
GET {{baseUrl}}/reservations/hotel/1280474
### Get Hotel Reservation By Email and ReservationNumber diurvan1@gmail.com
GET {{baseUrl}}/reservations/verify/diurvan1@gmail.com/1280474
Authorization: {{admin_jwt}}
Accept: application/json


### Get Reservations By Consumption Center And DateRange
POST {{baseUrl}}/reservations/consumptioncenter/search
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "consumptionCenterId": 2,
  "startDate": "2026-01-02",
  "endDate": "2026-01-02"
}

### Get Reservations By Person And DateRange
POST {{baseUrl}}/reservations/search/me
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "PersonId": "c2fb26cd-bb43-4237-bb1c-49928c5f261b",
  "startDate": "2025-12-01",
  "endDate": "2025-12-31"
}

### Create Reservation
POST {{baseUrl}}/reservations
Authorization: {{admin_jwt}}
Content-Type: application/json
Accept: application/json
{
  "personId": "c2fb26cd-bb43-4237-bb1c-49928c5f261b",
  "consumptionCenterId": 2,
  "details": {
    "serviceDate": "2026-01-02",
    "startTime": "15:00",
    "endTime": "16:00",
    "capacity": 4,
    "notes": "Mesa en la terraza, por favor.",
    "createdBy": "Rick",
    "availabilityId": 2
  }
}

### Search Availability
POST {{baseUrl}}/reservations/availability
Content-Type: application/json
Accept: application/json
{
  "consumptionCenterId": 2,
  "capacity": 4,
  "reservationDate": "2026-01-02"
}

###
# =====================================================
# Indicadores (/reservations/indicadores)
# =====================================================

# @name getAllIndicadores
# Obtiene todos los indicadores de todos los hoteles.
GET {{baseUrl}}/reservations/indicadores

###

# @name getAllIndicadoresPeriod
# Obtiene los indicadores para un hotel y mes específicos.
GET {{baseUrl}}/reservations/indicators/HGSLE/01

###

# @name getIndicadores
# Obtiene los indicadores para un hotel específico.
GET {{baseUrl}}/reservations/indicadores/H1

###
# =====================================================
# Consumption Center
# =====================================================

### Get All Consumption Centers
GET {{baseUrl}}/reservations/consumptioncenter

### Get Consumption Center Detail By Id
GET {{baseUrl}}/reservations/consumptioncenter/detail/1

### Get Consumption Centers Types
GET {{baseUrl}}/reservations/consumptioncenter/types
Authorization: {{admin_jwt}}

### Get Consumption Centers Groups
GET {{baseUrl}}/reservations/consumptioncenter/groups
Authorization: {{admin_jwt}}

### Get Consumption Center By Group External Id
GET {{baseUrl}}/reservations/consumptioncenter/group/6
Accept: application/json

### Get Consumption Center By Type Id
GET {{baseUrl}}/reservations/consumptioncenter/type/1
Accept: application/json

### Get Consumption Center Inventories
GET {{baseUrl}}/reservations/consumptioncenter/2/inventories
Authorization: {{admin_jwt}}
Accept: application/json

### Create Consumption Center Type
POST {{baseUrl}}/reservations/consumptioncenter/types
Content-Type: application/json
{
  "name": "Restaurant",
  "description": "Restaurant type"
}

### Create Consumption Center
POST {{baseUrl}}/reservations/consumptioncenter
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "name": "Bacari",
  "email": "bacari@solmar.com",
  "phoneNumber": "+52 6241234567",
  "latitude": 22.876556,
  "longitude": -109.9035334,
  "description": "Italian Restaurant",
  "imagesUrls": [
    "https://url.com/bacari1.jpg",
    "https://url.com/bacari2.jpg"
  ],
  "capacity": 180,
  "startTime": "12:00",
  "endTime": "22:00",
  "startDate": "2025-01-01",
  "endDate": "2026-12-31",
  "weekDays": "Thu,Fri,Sat,Sun",
  "consumptionCenterTypeId": 1,
  "consumptionCenterGroup": {
    "externalId": 6,
    "externalName": "Grand Solmar Pacific Dunes"
  },
  "attribute": {
    "name": "Cuisine",
    "tags": ["Italian","Seafood","Pasta"],
    "attributeType":{
      "name": "Cuisine"
    }
  }
}

### Create Consumption Center Group
POST {{baseUrl}}/reservations/consumptioncenter/groups
Content-Type: application/json
{
  "externalId": 1,
  "externalName": "Solmar Hotels & Resorts",
  "consumptionCenterId": 1
}

### Create Consumption Center Inventory
POST {{baseUrl}}/reservations/consumptioncenter/inventory
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "consumptionCenterId": 2, 
  "name": "Mesa Cinco",
  "capacity": 6,
  "minCapacity": 3,
  "maxCapacity": 6,
  "startTime": "12:00",
  "endTime": "21:00",
  "price": 0,
  "imagesUrls": ["https://url.com/mesa1.jpg"],
  "inventoryAttribute": {
    "name": "Mesa Interior",
    "description": "Mesa en area interior del restaurante",
    "capacity": 6,
    "specialInformation": "Cerca de la ventana",
    "attribute": {
      "name": "Interior",
      "usageCount": 0,
      "tags": ["Interior","Window"],
      "attributeType": {
        "name": "Location"
      }
    }
  },
  "inventoryType": {
    "name": "Table",
    "description": "Table Inventory Type"
  }
}

### Create Consumption Center Offer
POST {{baseUrl}}/reservations/consumptioncenter/offer
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "name": "Happy Hour 2x1 Bebidas",
  "description": "Promoción válida en horario vespertino",
  "isActive": true,
  "startTime": "16:00:00",
  "endTime": "19:00:00",
  "startDate": "2025-01-01",
  "endDate": "2025-12-31",
  "weekDays": "Fri,Sat",
  "consumptionCenterId": 1,
  "offerItems": [
    {
      "name": "Cerveza Nacional",
      "description": "Cerveza clara u oscura",
      "price": 80.00,
      "cost": 35.00,
      "specialInformation": "Aplica solo marcas seleccionadas",
      "imagesUrls": [
        "https://cdn.solmar.com/offers/beer1.jpg",
        "https://cdn.solmar.com/offers/beer2.jpg"
      ],
      "items": [
        {
          "name": "Cerveza Corona",
          "description": "Botella 355 ml",
          "quantity": 2,
          "unitOfMeasure": "Bottle",
          "specifications": "Servida fría",
          "keyItem": true
        }
      ]
    },
    {
      "name": "Margarita Clásica",
      "description": "Margarita tradicional con limón",
      "price": 150.00,
      "cost": 60.00,
      "specialInformation": "No aplica sabores premium",
      "imagesUrls": [
        "https://cdn.solmar.com/offers/margarita.jpg"
      ],
      "items": [
        {
          "name": "Tequila Blanco",
          "description": "Tequila 100% agave",
          "quantity": 60,
          "unitOfMeasure": "ml",
          "specifications": "Marca estándar",
          "keyItem": true
        },
        {
          "name": "Jugo de Limón",
          "description": "Jugo natural",
          "quantity": 30,
          "unitOfMeasure": "ml",
          "specifications": "Recién exprimido",
          "keyItem": false
        }
      ]
    }
  ]
}


###
# =====================================================
# Offers
# =====================================================

### Get Offer By Id
GET {{baseUrl}}/reservations/consumptioncenter/offer/1
Authorization: {{admin_jwt}}
Accept: application/json

### Get Offers By Date Range
POST {{baseUrl}}/reservations/consumptioncenter/offers
Authorization: {{admin_jwt}}
Content-Type: application/json
{
  "startDate": "2025-12-01",
  "endDate": "2025-12-31"
}

### Get Offers By Consumption Center Id
GET {{baseUrl}}/reservations/consumptioncenter/offers/1

### Create Consumption Center Offer
POST {{baseUrl}}/reservations/consumptioncenter/offer
Authorization: {{admin_jwt}}
Content-Type: application/json

{
  "consumptionCenterId": 1,
  "name": "Happy Hour",
  "description": "2x1 Drinks",
  "isActive": true,
  "startTime": "16:00",
  "endTime": "18:00",
  "startDate": "2025-01-01",
  "endDate": "2025-12-31",
  "weekDays": "Mon,Tue,Wed,Thu,Fri"
}

### Create Consumption Center OfferItem
POST {{baseUrl}}/reservations/consumptioncenter/offer/items
Authorization: {{admin_jwt}}
Content-Type: application/json

{
  "offerId": 1,
  "offerItems": [
    {
      "name": "Other Margarita",
      "description": "Other Type Of Margarita",
      "price": 150.00,
      "specialInformation": "Salt rim",
      "medias": [
        {
          "url": "https://cdn.solmar.com/margarita.jpg",
          "type": 0
        }
      ],
      "items": [
        {
          "name": "Tequila Blanco",
          "description": "100% agave tequila",
          "quantity": 50,
          "unitOfMeasure": "ml",
          "specifications": "Premium brand"
        },
        {
          "name": "Lime Juice",
          "description": "Fresh squeezed lime juice",
          "quantity": 30,
          "unitOfMeasure": "ml",
          "specifications": "Daily fresh"
        },
        {
          "name": "Triple Sec",
          "description": "Orange liqueur",
          "quantity": 20,
          "unitOfMeasure": "ml",
          "specifications": "Cointreau"
        }
      ]
    }
  ]
}

###
# =====================================================
# Reservation Media
# =====================================================

### Upload Reservation Media (with Base64)
POST {{baseUrl}}/api/reservationdetails/1/reservationmedia
Authorization: {{admin_jwt}}
Content-Type: application/json

{
  "base64File": "R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
  "mediaType": "image",
  "description": "Test image for reservation detail 1 (Base64)"
}

### Get Reservation Media By Id
GET {{baseUrl}}/api/reservationdetails/1/reservationmedia/1
Authorization: {{admin_jwt}}
Accept: application/json

### Get All Reservation Media For Reservation Detail
GET {{baseUrl}}/api/reservationdetails/1/reservationmedia
Authorization: {{admin_jwt}}
Accept: application/json

### Delete Reservation Media
DELETE {{baseUrl}}/api/reservationdetails/1/reservationmedia/1
Authorization: {{admin_jwt}}

# Archivo de peticiones para ReservationService a través del YARP Proxy
# =================================================================
# Todas las peticiones apuntan al YARP Proxy.
#
# Estructura de la URL:
# {{baseUrl}}/reservation/{endpoint}
#
# Ejemplo:
# {{baseUrl}}/reservation/indicadores -> (YARP) -> ReservationService/indicadores
# =================================================================

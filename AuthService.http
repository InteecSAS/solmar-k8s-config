@baseUrl = http://localhost:30577
@admin_jwt = Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQHNvbG1hci5jb20iLCJnaXZlbl9uYW1lIjoiYWRtaW5Ac29sbWFyLmNvbSIsInN1YiI6IjZmYzY4MmY1LWJlNGQtNDc3Zi1hYmRhLTczZGZhM2Q2OWU5MyIsInJvbGUiOiJBZG1pbmlzdHJhZG9yU2lzdGVtYSIsIm5iZiI6MTc2NDU0NTIzMCwiZXhwIjoxNzY1MTUwMDMwLCJpYXQiOjE3NjQ1NDUyMzAsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjcwMDEiLCJhdWQiOiJodHRwczovL2xvY2FsaG9zdDo3MDAxIn0.SIoTadGvZ-J969lcilCYOLCLhCsDw-LY7Xrc2V137VumgG3njZi0NJaQUm4ooUvLXGJzPs0wKIhEEqYOmzsaoQ
@cliente_jwt = Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImNsaWVudGVAc29sbWFyLmNvbSIsImdpdmVuX25hbWUiOiJjbGllbnRlQHNvbG1hci5jb20iLCJzdWIiOiJlZjJhZTNiYS02OWY1LTQ3YmQtODM0MC1kN2IxYzU2MjE0OWIiLCJyb2xlIjoiQ2xpZW50ZSIsIm5iZiI6MTc2NDU0NTI1MywiZXhwIjoxNzY1MTUwMDUzLCJpYXQiOjE3NjQ1NDUyNTMsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjcwMDEiLCJhdWQiOiJodHRwczovL2xvY2FsaG9zdDo3MDAxIn0.Z8DXSQp34HoCVJs5e6AL2WEBe17uJic0V2Ft-OFMQXQtlgkwn85T5UZ-QvwAKhEVVy9wkTccqZjpRKTgnuJtOg
@userId = ef2ae3ba-69f5-47bd-8340-d7b1c562149b

###
# =====================================================
# Auth Controller (/api/auth-service/auth)
# =====================================================

# @name register
# Registra un nuevo usuario con el rol "Cliente" por defecto.
POST {{baseUrl}}/api/auth-service/auth/register
Content-Type: application/json

{
  "firstName": "Admin",
  "lastName": "Admin",
  "email": "admin@solmar.com",
  "password": "P@ssw0rd"
}

###

# @name login
# Inicia sesión y obtiene un token JWT.
POST {{baseUrl}}/api/auth-service/auth/login
Content-Type: application/json

{
  "email": "cliente@solmar.com",
  "password": "P@ssw0rd"
}

###
# =====================================================
# Admin Controller (/api/auth-service/admin)
# Nota: Requiere un token JWT con el rol "AdministradorSistema".
# =====================================================

# @name getUsers
# Obtiene todos los usuarios.
GET {{baseUrl}}/api/auth-service/admin/users
Authorization: {{admin_jwt}}

###

# @name getRoles
# Obtiene todos los roles.
GET {{baseUrl}}/api/auth-service/admin/roles
Authorization: {{admin_jwt}}

###
# =====================================================
# Membresias Controller (/api/auth-service/membresias)
# =====================================================

# @name getMyMembership
# Obtiene la membresía del usuario autenticado.
GET {{baseUrl}}/api/auth-service/membresias/me
Authorization: {{cliente_jwt}}

###

# @name getMembershipTypes
# Obtiene los tipos de membresía disponibles (público).
GET {{baseUrl}}/api/auth-service/membresias/tipos

###
# =====================================================
# Preferencias Controller (/api/auth-service/preferencias)
# =====================================================

# @name getMyPreferences
# Obtiene las preferencias del usuario autenticado.
GET {{baseUrl}}/api/auth-service/preferencias/me
Authorization: {{cliente_jwt}}

###

# @name updateMyPreferences
# Actualiza las preferencias del usuario autenticado.
PUT {{baseUrl}}/api/auth-service/preferencias/me
Content-Type: application/json
Authorization: {{cliente_jwt}}

{
  "applicationUserId": "{{userId}}",
  "idiomaPreferido": "es-MX",
  "recibirNotificacionesEmail": true,
  "permitirCookiesAnaliticas": true
}





# Archivo de peticiones para AuthService a través del YARP Proxy
# =================================================================
# Todas las peticiones apuntan al YARP Proxy, que las redirige a AuthService.
#
# Estructura de la URL:
# {{baseUrl}}/api/auth-service/{controller}/{endpoint}
#
# Ejemplo:
# {{baseUrl}}/api/auth-service/admin/users -> (YARP) -> AuthService/api/admin/users
# =================================================================
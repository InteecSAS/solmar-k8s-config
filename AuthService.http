@baseUrl = http://localhost:30577
@admin_jwt = Bearer 
@cliente_jwt = Bearer 
@userId = 

###
# =====================================================
# Auth Controller (/api/auth-service/auth)
# =====================================================

# @name register
# Registra un nuevo usuario con el rol "Cliente" por defecto.
POST {{baseUrl}}/api/auth-service/auth/register
Content-Type: application/json

{
  "firstName": "Admin",
  "lastName": "Admin",
  "email": "admin@solmar.com",
  "password": "P@ssw0rd"
}

###

# @name login
# Inicia sesión y obtiene un token JWT.
POST {{baseUrl}}/api/auth-service/auth/login
Content-Type: application/json

{
  "email": "cliente@solmar.com",
  "password": "P@ssw0rd"
}

###
# =====================================================
# Admin Controller (/api/auth-service/admin)
# Nota: Requiere un token JWT con el rol "AdministradorSistema".
# =====================================================

# @name getUsers
# Obtiene todos los usuarios.
GET {{baseUrl}}/api/auth-service/admin/users
Authorization: {{admin_jwt}}

###

# @name getRoles
# Obtiene todos los roles.
GET {{baseUrl}}/api/auth-service/admin/roles
Authorization: {{admin_jwt}}

###
# =====================================================
# Membresias Controller (/api/auth-service/membresias)
# =====================================================

# @name getMyMembership
# Obtiene la membresía del usuario autenticado.
GET {{baseUrl}}/api/auth-service/membresias/me
Authorization: {{cliente_jwt}}

###

# @name getMembershipTypes
# Obtiene los tipos de membresía disponibles (público).
GET {{baseUrl}}/api/auth-service/membresias/tipos

###
# =====================================================
# Preferencias Controller (/api/auth-service/preferencias)
# =====================================================

# @name getMyPreferences
# Obtiene las preferencias del usuario autenticado.
GET {{baseUrl}}/api/auth-service/preferencias/me
Authorization: {{cliente_jwt}}

###

# @name updateMyPreferences
# Actualiza las preferencias del usuario autenticado.
PUT {{baseUrl}}/api/auth-service/preferencias/me
Content-Type: application/json
Authorization: {{cliente_jwt}}

{
  "applicationUserId": "{{userId}}",
  "idiomaPreferido": "es-MX",
  "recibirNotificacionesEmail": true,
  "permitirCookiesAnaliticas": true
}





# Archivo de peticiones para AuthService a través del YARP Proxy
# =================================================================
# Todas las peticiones apuntan al YARP Proxy, que las redirige a AuthService.
#
# Estructura de la URL:
# {{baseUrl}}/api/auth-service/{controller}/{endpoint}
#
# Ejemplo:
# {{baseUrl}}/api/auth-service/admin/users -> (YARP) -> AuthService/api/admin/users
# =================================================================
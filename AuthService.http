@baseUrl = http://localhost:30577
@admin_jwt = Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQHNvbG1hci5jb20iLCJnaXZlbl9uYW1lIjoiQWRtaW4gU29sbWFyIiwic3ViIjoiNGMxMDhmMzUtZGU3Ni00ODE1LWE1N2YtODQxMWYxZDJmM2U1Iiwicm9sZSI6IkFkbWluaXN0cmFkb3JTaXN0ZW1hIiwicGVybWlzc2lvbiI6WyJyZXNlcnZhczpsZWVyIiwicmVzZXJ2YXM6Y3JlYXIiLCJyZXNlcnZhczpjYW5jZWxhciIsImZpbmFuemFzOnZlcl9yZXBvcnRlcyIsImFkbWluOmdlc3Rpb25hcl91c3VhcmlvcyIsImFkbWluOmdlc3Rpb25hcl9yb2xlcyJdLCJuYmYiOjE3NjU1NjAwMjUsImV4cCI6MTc2NjE2NDgyNSwiaWF0IjoxNzY1NTYwMDI1LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDAxIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzAwMSJ9.Kz88tlQBgRgVMJhBMHz6pMk3XE6ZvTabOA_i1GoYJtSKJmn88B-oUjKgIQVPUy8ChDUujiCQBZ4LrnFcLBnvTw
@cliente_jwt = Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQHNvbG1hci5jb20iLCJnaXZlbl9uYW1lIjoiQWRtaW4gU29sbWFyIiwic3ViIjoiNGMxMDhmMzUtZGU3Ni00ODE1LWE1N2YtODQxMWYxZDJmM2U1Iiwicm9sZSI6IkFkbWluaXN0cmFkb3JTaXN0ZW1hIiwicGVybWlzc2lvbiI6WyJyZXNlcnZhczpsZWVyIiwicmVzZXJ2YXM6Y3JlYXIiLCJyZXNlcnZhczpjYW5jZWxhciIsImZpbmFuemFzOnZlcl9yZXBvcnRlcyIsImFkbWluOmdlc3Rpb25hcl91c3VhcmlvcyIsImFkbWluOmdlc3Rpb25hcl9yb2xlcyJdLCJuYmYiOjE3NjU1NjAwMjUsImV4cCI6MTc2NjE2NDgyNSwiaWF0IjoxNzY1NTYwMDI1LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MDAxIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzAwMSJ9.Kz88tlQBgRgVMJhBMHz6pMk3XE6ZvTabOA_i1GoYJtSKJmn88B-oUjKgIQVPUy8ChDUujiCQBZ4LrnFcLBnvTw
@userId = ef2ae3ba-69f5-47bd-8340-d7b1c562149b

###
# =====================================================
# Auth Controller (/api/auth-service/auth)
# =====================================================

# @name register
# Registra un nuevo usuario con el rol "Cliente" por defecto.
POST {{baseUrl}}/api/auth-service/auth/register
Content-Type: application/json

{
  "firstName": "Iván",
  "lastName": "Tapia",
  "email": "ivan.tapia@solmar.com",
  "password": "P@ssw0rd",
  "birthDate" : "2025-12-04",
  "nationality" : "Perú",
  "gender" : "Masculino",
  "phoneNumber" : "+51955478664"
}

###

# @name login
# Inicia sesión y obtiene un token JWT.
POST {{baseUrl}}/api/auth-service/auth/login
Content-Type: application/json

{
  "email": "admin@solmar.com",
  "password": "P@ssw0rd"
}

###
# =====================================================
# Admin Controller (/api/auth-service/admin)
# Nota: Requiere un token JWT con el rol "AdministradorSistema".
# =====================================================

# @name getUsers
# Obtiene todos los usuarios.
GET {{baseUrl}}/api/auth-service/admin/users
Authorization: {{admin_jwt}}

###

# @name getRoles
# Obtiene todos los roles.
GET {{baseUrl}}/api/auth-service/admin/roles
Authorization: {{admin_jwt}}

###
# =====================================================
# Membresias Controller (/api/auth-service/membresias)
# =====================================================

# @name getMyMembership
# Obtiene la membresía del usuario autenticado.
GET {{baseUrl}}/api/auth-service/membresias/me
Authorization: {{cliente_jwt}}

###

# @name getMembershipTypes
# Obtiene los tipos de membresía disponibles (público).
GET {{baseUrl}}/api/auth-service/membresias/tipos

###
# =====================================================
# Preferencias Controller (/api/auth-service/preferencias)
# =====================================================

# @name getMyPreferences
# Obtiene las preferencias del usuario autenticado.
GET {{baseUrl}}/api/auth-service/preferencias/me
Authorization: {{cliente_jwt}}

###

# @name updateMyPreferences
# Actualiza las preferencias del usuario autenticado.
PUT {{baseUrl}}/api/auth-service/preferencias/me
Content-Type: application/json
Authorization: {{cliente_jwt}}

{
  "applicationUserId": "{{userId}}",
  "idiomaPreferido": "es-MX",
  "recibirNotificacionesEmail": true,
  "permitirCookiesAnaliticas": true
}





# Archivo de peticiones para AuthService a través del YARP Proxy
# =================================================================
# Todas las peticiones apuntan al YARP Proxy, que las redirige a AuthService.
#
# Estructura de la URL:
# {{baseUrl}}/api/auth-service/{controller}/{endpoint}
#
# Ejemplo:
# {{baseUrl}}/api/auth-service/admin/users -> (YARP) -> AuthService/api/admin/users
# =================================================================